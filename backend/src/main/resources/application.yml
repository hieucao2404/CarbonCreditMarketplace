server:
  port: 8080

spring:
  application:
    name: carbon-credit-marketplace
  cache:
    type: simple
    cache-names: systemSettings

  datasource:
    url: jdbc:postgresql://localhost:5432/carbon_credit_db
    username: ${DB_USERNAME:postgres}
    password: ${DB_PASSWORD:1234} 
    driver-class-name: org.postgresql.Driver

  jpa:
    hibernate:
      ddl-auto: validate
    show-sql: false
    properties:
      hibernate:
        dialect: org.hibernate.dialect.PostgreSQLDialect
        format_sql: true
    defer-datasource-initialization: true

  security:
    user:
      name: admin
      password: admin123

  # ✅ Email Configuration (MUST be under spring:)
  mail:
    host: smtp.gmail.com
    port: 587
    username: ${EMAIL_USERNAME:hieucao240402@gmail.com}
    password: ${EMAIL_PASSWORD:vkhgktsoucirmfvf}  # App password WITHOUT spaces
    properties:
      mail:
        smtp:
          auth: true
          starttls:
            enable: true
            required: true
          connectiontimeout: 5000
          timeout: 5000
          writetimeout: 5000
    default-encoding: UTF-8
  # ✅ Application-specific email settings
app:
  mail:
    from: carbon-credit@example.com
    sender-name: Carbon Credit Marketplace
    verification-link-expiry: 24  # hours
    password-reset-link-expiry: 1 # hour
  task:
    scheduling:
      enabled: true
      pool:
        size: 2

jwt:
  secret: ${JWT_SECRET:carbon-credit-marketplace-super-secret-key-minimum-256-bits-required-for-hs256}
  expiration: 86400000 # 24 hours

logging:
  level:
    org.springframework.security: DEBUG
    com.carboncredit: DEBUG

# VNPAY Sandbox Configuration
# Replace with YOUR actual credentials from email
vnpay:
  tmn-code: H3G0BBWR
  hash-secret: 8X0PCRCIKQI55D7XP7BVFTUCAD384US7
  api-url: https://sandbox.vnpayment.vn/paymentv2/vpcpay.html
  return-url: https://jase-unweathered-hildegard.ngrok-free.dev/api/wallets/vnpay-return
  version: 2.1.0
  command: pay
  currency-code: VND

momo:
  partner-code: MOMOBKUN20180529
  access-key: klm05TvNBzhg7h7j
  secret-key: at67qH6mk8w5Y1nAyMoYKMWACiEi2bsa
  api-endpoint: https://test-payment.momo.vn/v2/gateway/api/create
  return-url: https://jase-unweathered-hildegard.ngrok-free.dev/api/wallets/momo-return
  notify-url: https://jase-unweathered-hildegard.ngrok-free.dev/api/wallets/momo-notify
  request-type: captureWallet

currency:
  usd-to-vnd-rate: 26330 # 1 USD = 26,330 VND



